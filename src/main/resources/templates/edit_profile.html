<!--
  #%L
  STRep
  %%
  Copyright (C) 2019 - 2024 SING Group (University of Vigo)
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->
<div th:include="header.html"></div>
<div class="container">
    <div class="alert alert-dismissible alert-danger error-label" th:if="${message!=null}">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <label class="" th:text="${message}"></label>
    </div>
    <label class="" th:text="${message}"></label>
    <div id="banner" class="page-header">
        <div class="row">
            <div class="col-12">
                <h2 th:text="#{editprofile.title}"></h2>
            </div>
        </div>
    </div>
    <div id="bs-docs-section">
        <div class="row">
            <div class="col-12">
                <div id="bs-component">
                    <form action="#" th:action="@{/user/editprofile}" th:object="${user}" enctype="multipart/form-data" method="POST">
                        <fieldset>
                            <div class="form-group">
                                <img class="user-photo" th:if="${user.photo!=null} and ${username}!=''"
                                     th:src="@{'/user/image?username='+${username}}" style="max-width: 150px;">
                                <i th:unless="${user.photo!=null}" class="fas fa-user fa-6x"></i>
                            </div>
                            <div class="form-group">
                                <input type="file" name="photomp">
                            </div>
                            <div class="form-group">
                                <label class="control-label" th:text="#{editprofile.username}"></label>
                                <input type="hidden" name="username" th:value="${user.username}">
                            </div>
                            <div class="form-group">
                                <label th:text="#{editprofile.name}"></label>
                                <input type="text" class="form-control col-md-6" name="name" required="required"
                                       th:value="${user.name}">
                            </div>
                            <div class="form-group">
                                <label th:text="#{editprofile.surname}"></label>
                                <input type="text" class="form-control col-md-6" name="surname"
                                       th:value="${user.surname}">
                            </div>
                            <div class="form-group">
                                <label th:text="#{editprofile.email}"></label>
                                <input type="text" class="form-control col-md-6" name="email"
                                       th:value="${user.email}" required>
                            </div>
                            <div class="form-group">
                                <label th:text="#{editprofile.password}"></label>
                                <input type="password" class="form-control col-md-6" name="password" th:value="${user.password}">
                                <label class="error-label" th:if="${#fields.hasErrors('password')}"></label>
                            </div>
                            <div class="form-group">
                                <label th:text="#{editprofile.confirmpassword}"></label>
                                <input type="password" class="form-control col-md-6" name="confirmPassword" th:value="${user.confirmPassword}">
                                <label class="error-label" th:if="${#fields.hasErrors('confirmPassword')}"></label>
                            </div>
                            <hr>
                            <div class="form-group right">
                                <input type="submit" class="btn btn-primary" th:attr="value=#{editprofile.button}">
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:include="footer.html"></div>
